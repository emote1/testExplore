# ============================================================
# Reef Explorer — МАКСИМАЛЬНАЯ СКОРОСТЬ для i9-14900KF
# ============================================================
# Оптимизировано для genesis backfill на мощном ПК

# ─── PostgreSQL ─────────────────────────────────────────────
POSTGRES_DB=reef_explorer
POSTGRES_USER=reef
POSTGRES_PASSWORD=reef_local

# ─── Hasura GraphQL Engine ──────────────────────────────────
HASURA_GRAPHQL_ADMIN_SECRET=local_dev_secret
HASURA_GRAPHQL_ENABLE_CONSOLE=true
HASURA_GRAPHQL_DEV_MODE=true

# ─── Indexer Configuration (МАКСИМАЛЬНАЯ СКОРОСТЬ) ──────────
RPC_URL=wss://rpc.reefscan.info/ws

# Genesis backfill
START_BLOCK=14834548

# Настройки для i9-14900KF (getBlock heavier than getHeader)
BATCH_SIZE=100
POLL_INTERVAL_MS=100

# ─── Backfill (обратная индексация) ───────────────────────
# BACKFILL=true  — включить обратную индексацию от START_BLOCK к BACKFILL_TARGET
# BACKFILL_TARGET — до какого блока идти назад (1 = genesis)
# Работает ПАРАЛЛЕЛЬНО с forward-индексацией
BACKFILL=true
BACKFILL_TARGET=12834548

# Параллельная обработка блоков внутри батча
CONCURRENCY=5

# PostgreSQL connection
PG_HOST=postgres
PG_PORT=5432
PG_DB=reef_explorer
PG_USER=reef
PG_PASS=reef_local
